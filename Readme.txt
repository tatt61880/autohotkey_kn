/*
    kn.exe v0.982 (for Kuin 0.98)
        Kuinをコマンドプロンプトからコンパイルするツールです。
        Last Modified: 2013/09/15 08:16:43.
        Created by @tatt61880
            https://twitter.com/tatt61880
            https://github.com/tatt61880
*/

【概要】
    kn.exeは、コマンドプロンプトからKuin.exeの[コンパイル]ボタンのクリックを発生させるツールです。
    ※Kuin.exeはくいなちゃん(@kuina_tesso)が作成した、Kuinの処理系です。

    AutoHotkeyを持っていない人のために、バイナリ(kn.exe)を公開しています。
    （ソースコード(kn.ahk)も公開しています）

【免責事項】
    作者は、このツールにより生じたいかなる損害の責任も負わないものとします。

【使用方法】
    1. kn.exeをKuin.exeと同じフォルダにおいてください。
    2. コマンドプロンプトから下記のように実行します。
       kn.exe [sourcefile.kn [run]]
       sourcefile.knは、kn.exeの置いてあるフォルダからの相対パスで入力してください。
        例1: kn.exe
            Kuin.exeのソースファイル欄が空欄だろうがなんだろうが、とにかくコンパイル。
        例2: kn.exe dir\test.kn
            dirフォルダのtest.knをコンパイル。
        例3: kn.exe dir\test.kn run
            dirフォルダのtest.knのコンパイル。
                →コンパイルに成功した場合: test_dbg.exeを実行する。
                ※この時の作業フォルダはdirフォルダです。

【不具合を発見された場合】
    @tatt61880にご連絡頂けると幸いです。
        https://twitter.com/tatt61880
    interviews経由で匿名で指摘頂いても構いません。
        http://theinterviews.jp/tatt61880/interview

    不具合でなくても、改善案があれば、是非教えてください。

【更新履歴】
    v0.982 (2013/09/15)
        [修正] \\127.0.0.1\～ のような : を含まないフルパスにも対応しました。
               (以前は、フルパスか否かを引数にコロン(:)が含まれているかどうかのみで判断していました)
        [修正] 32bit Windowsでも動作するようにしました。
               (64bit環境のAuthotkeyでexe化すると、64bit Authotkeyでしか動作しないようです)
    v0.981 (2013/09/14)
        [修正] 引数にフルパスを渡した場合も正しく動作するように修正しました。
    v0.98 (2013/09/14)
        [変更] Kuin 0.98で動作するように変更しました。
    v0.041 (2013/05/04)
        [修正] runコマンドを実行する際、念のためコンパイルする前にファイルを削除するようにしました。
    v0.04 (2013/04/30)
        [変更] スクリプトが置いてあるディレクトリではなく、コマンドを実行したディレクトリを作業ディレクトリの起点とするようにしました。
    v0.03 (2013/04/30)
        [追加] コンパイル成功時に、コンパイル時間をツールチップとして表示するようにしました。(表示時間は1秒間)
        [変更] コンパイルエラーが出たときに、クリップボードにコンパイルエラーの内容が入る仕組みをなくしました。
        [修正] 【コンパイル(C)】ボタンが画面外にある場合にコンパイルできず、前回の結果が再度表示されるという不具合を修正しました。
        [修正] コンパイルする度に起動済みのKuin.exeを最前面に表示してしまっていたのを修正しました。
    v0.02 (2013/04/29)
        [変更] AutoHotkeyの64bit版でexe化するようにしたため、64bit Windowsのみで利用可能です。
        [修正] runコマンドでexeを実行時に、作業フォルダがkn.exeの置いてある場所になってしまっていたのを修正しました。
               .knファイルの置いてある場所で実行します。
    v0.01 (2012/09/01)
        [初公開] Kuin 0.023用です。

【その他】
    このツールの作成にあたり、「AutoHotkeyを流行らせるページ」の情報にお世話になりました。
        AutoHotkeyを流行らせるページ
        http://ahk.xrea.jp/

